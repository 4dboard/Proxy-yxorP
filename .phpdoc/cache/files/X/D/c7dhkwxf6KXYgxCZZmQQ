1689528007
waR3U4bTeM%3A0b1e5adde6ec01dcf9444222044ad962-81b6a2abdd43e324c78f8a710827d740
s:16616:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrIjo3OntzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAHN1bW1hcnkiO3M6NDE6IlRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBDb2NrcGl0IHByb2plY3QuIjtzOjQ2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGRlc2NyaXB0aW9uIjtPOjQ1OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24iOjI6e3M6NTk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24AYm9keVRlbXBsYXRlIjtzOjE5NDoiKGMpIEFydHVyIEhlaW56ZSAtIPCfhbDwn4W28J+FtPCfhb3wn4aD8J+FtPCfhbnwn4W+LCBodHRwOi8vYWdlbnRlam8uY29tCgpGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRQpmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS4iO3M6NTE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24AdGFncyI7YTowOnt9fXM6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAdGFncyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBjb250ZXh0IjtPOjM4OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dCI6Mjp7czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xDb250ZXh0AG5hbWVzcGFjZSI7czowOiIiO3M6NTY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dABuYW1lc3BhY2VBbGlhc2VzIjthOjA6e319czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBsb2NhdGlvbiI7TjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGlzVGVtcGxhdGVTdGFydCI7YjowO3M6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAaXNUZW1wbGF0ZUVuZCI7YjowO31zOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjgxYjZhMmFiZGQ0M2UzMjRjNzhmOGE3MTA4MjdkNzQwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTM6ImJvb3RzdHJhcC5waHAiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czo0MzoiYXBwL2xpYi9jb2NrcGl0L21vZHVsZXMvRm9ybXMvYm9vdHN0cmFwLnBocCI7czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBzb3VyY2UiO3M6MTA0ODY6Ijw/cGhwDQovKioNCiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBDb2NrcGl0IHByb2plY3QuDQogKg0KICogKGMpIEFydHVyIEhlaW56ZSAtIPCfhbDwn4W28J+FtPCfhb3wn4aD8J+FtPCfhbnwn4W+LCBodHRwOi8vYWdlbnRlam8uY29tDQogKg0KICogRm9yIHRoZSBmdWxsIGNvcHlyaWdodCBhbmQgbGljZW5zZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpZXcgdGhlIExJQ0VOU0UNCiAqIGZpbGUgdGhhdCB3YXMgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHNvdXJjZSBjb2RlLg0KICovDQoNCiR0aGlzLT5tb2R1bGUoJ2Zvcm1zJyktPmV4dGVuZChbDQoNCiAgICAnY3JlYXRlRm9ybScgPT4gZnVuY3Rpb24oJG5hbWUsICRkYXRhID0gW10pIHsNCg0KICAgICAgICBpZiAoIXRyaW0oJG5hbWUpKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICAkY29uZmlncGF0aCA9ICR0aGlzLT5hcHAtPnBhdGgoJyNzdG9yYWdlOicpLicvZm9ybXMnOw0KDQogICAgICAgIGlmICghJHRoaXMtPmFwcC0+cGF0aCgnI3N0b3JhZ2U6Zm9ybXMnKSkgew0KDQogICAgICAgICAgICBpZiAoISR0aGlzLT5hcHAtPmhlbHBlcignZnMnKS0+bWtkaXIoJGNvbmZpZ3BhdGgpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCR0aGlzLT5leGlzdHMoJG5hbWUpKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICAkdGltZSA9IHRpbWUoKTsNCg0KICAgICAgICAkZm9ybSA9IGFycmF5X3JlcGxhY2VfcmVjdXJzaXZlKFsNCiAgICAgICAgICAgICdfaWQnICAgICAgID0+ICRuYW1lLA0KICAgICAgICAgICAgJ25hbWUnICAgICAgPT4gJG5hbWUsDQogICAgICAgICAgICAnbGFiZWwnICAgICA9PiAkbmFtZSwNCiAgICAgICAgICAgICdzYXZlX2VudHJ5JyA9PiB0cnVlLA0KICAgICAgICAgICAgJ2luX21lbnUnICAgPT4gZmFsc2UsDQogICAgICAgICAgICAnZW1haWxfZm9yd2FyZCcgPT4gJycsDQogICAgICAgICAgICAnX2NyZWF0ZWQnICA9PiAkdGltZSwNCiAgICAgICAgICAgICdfbW9kaWZpZWQnID0+ICR0aW1lDQogICAgICAgIF0sICRkYXRhKTsNCg0KICAgICAgICAkZXhwb3J0ID0gdmFyX2V4cG9ydCgkZm9ybSwgdHJ1ZSk7DQoNCiAgICAgICAgaWYgKCEkdGhpcy0+YXBwLT5oZWxwZXIoJ2ZzJyktPndyaXRlKCIjc3RvcmFnZTpmb3Jtcy97JG5hbWV9LmZvcm0ucGhwIiwgIjw/cGhwXG4gcmV0dXJuIHskZXhwb3J0fTsiKSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuICRmb3JtOw0KICAgIH0sDQoNCiAgICAndXBkYXRlRm9ybScgPT4gZnVuY3Rpb24oJG5hbWUsICRkYXRhKSB7DQoNCiAgICAgICAgJG1ldGFwYXRoID0gJHRoaXMtPmFwcC0+cGF0aCgiI3N0b3JhZ2U6Zm9ybXMveyRuYW1lfS5mb3JtLnBocCIpOw0KDQogICAgICAgIGlmICghJG1ldGFwYXRoKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICAkZGF0YVsnX21vZGlmaWVkJ10gPSB0aW1lKCk7DQoNCiAgICAgICAgJGZvcm0gICA9IGluY2x1ZGUoJG1ldGFwYXRoKTsNCiAgICAgICAgJGZvcm0gICA9IGFycmF5X21lcmdlKCRmb3JtLCAkZGF0YSk7DQogICAgICAgICRleHBvcnQgPSB2YXJfZXhwb3J0KCRmb3JtLCB0cnVlKTsNCg0KICAgICAgICBpZiAoISR0aGlzLT5hcHAtPmhlbHBlcignZnMnKS0+d3JpdGUoJG1ldGFwYXRoLCAiPD9waHBcbiByZXR1cm4geyRleHBvcnR9OyIpKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCdvcGNhY2hlX3Jlc2V0JykpIG9wY2FjaGVfcmVzZXQoKTsNCg0KICAgICAgICByZXR1cm4gJGZvcm07DQogICAgfSwNCg0KICAgICdzYXZlRm9ybScgPT4gZnVuY3Rpb24oJG5hbWUsICRkYXRhKSB7DQoNCiAgICAgICAgaWYgKCF0cmltKCRuYW1lKSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGlzc2V0KCRkYXRhWydfaWQnXSkgPyAkdGhpcy0+dXBkYXRlRm9ybSgkbmFtZSwgJGRhdGEpIDogJHRoaXMtPmNyZWF0ZUZvcm0oJG5hbWUsICRkYXRhKTsNCiAgICB9LA0KDQogICAgJ3JlbW92ZUZvcm0nID0+IGZ1bmN0aW9uKCRuYW1lKSB7DQoNCiAgICAgICAgaWYgKCRmb3JtID0gJHRoaXMtPmZvcm0oJG5hbWUpKSB7DQoNCiAgICAgICAgICAgICRmb3JtID0gJGZvcm1bJ19pZCddOw0KDQogICAgICAgICAgICAkdGhpcy0+YXBwLT5oZWxwZXIoJ2ZzJyktPmRlbGV0ZSgiI3N0b3JhZ2U6Zm9ybXMveyRuYW1lfS5mb3JtLnBocCIpOw0KICAgICAgICAgICAgJHRoaXMtPmFwcC0+c3RvcmFnZS0+ZHJvcENvbGxlY3Rpb24oImZvcm1zL3skZm9ybX0iKTsNCg0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfSwNCg0KICAgICdmb3JtcycgPT4gZnVuY3Rpb24oJGV4dGVuZGVkID0gZmFsc2UpIHsNCg0KICAgICAgICAkc3RvcmVzID0gW107DQoNCiAgICAgICAgZm9yZWFjaCgkdGhpcy0+YXBwLT5oZWxwZXIoJ2ZzJyktPmxzKCcqLmZvcm0ucGhwJywgJyNzdG9yYWdlOmZvcm1zJykgYXMgJHBhdGgpIHsNCg0KICAgICAgICAgICAgJHN0b3JlID0gaW5jbHVkZSgkcGF0aC0+Z2V0UGF0aE5hbWUoKSk7DQoNCiAgICAgICAgICAgIGlmICgkZXh0ZW5kZWQpIHsNCiAgICAgICAgICAgICAgICAkc3RvcmVbJ2l0ZW1zQ291bnQnXSA9ICR0aGlzLT5jb3VudCgkc3RvcmVbJ25hbWUnXSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICRzdG9yZXNbJHN0b3JlWyduYW1lJ11dID0gJHN0b3JlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuICRzdG9yZXM7DQogICAgfSwNCg0KICAgICdleGlzdHMnID0+IGZ1bmN0aW9uKCRuYW1lKSB7DQogICAgICAgIHJldHVybiAkdGhpcy0+YXBwLT5wYXRoKCIjc3RvcmFnZTpmb3Jtcy97JG5hbWV9LmZvcm0ucGhwIik7DQogICAgfSwNCg0KICAgICdmb3JtJyA9PiBmdW5jdGlvbigkbmFtZSkgew0KDQogICAgICAgIHN0YXRpYyAkZm9ybXM7IC8vIGNhY2hlDQoNCiAgICAgICAgaWYgKGlzX251bGwoJGZvcm1zKSkgew0KICAgICAgICAgICAgJGZvcm1zID0gW107DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoIWlzX3N0cmluZygkbmFtZSkpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICghaXNzZXQoJGZvcm1zWyRuYW1lXSkpIHsNCg0KICAgICAgICAgICAgJGZvcm1zWyRuYW1lXSA9IGZhbHNlOw0KDQogICAgICAgICAgICBpZiAoJHBhdGggPSAkdGhpcy0+ZXhpc3RzKCRuYW1lKSkgew0KICAgICAgICAgICAgICAgICRmb3Jtc1skbmFtZV0gPSBpbmNsdWRlKCRwYXRoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiAkZm9ybXNbJG5hbWVdOw0KICAgIH0sDQoNCiAgICAnZW50cmllcycgPT4gZnVuY3Rpb24oJG5hbWUpIHsNCg0KICAgICAgICAkZm9ybXMgPSAkdGhpcy0+Zm9ybSgkbmFtZSk7DQoNCiAgICAgICAgaWYgKCEkZm9ybXMpIHJldHVybiBmYWxzZTsNCg0KICAgICAgICAkZm9ybSA9ICRmb3Jtc1snX2lkJ107DQoNCiAgICAgICAgcmV0dXJuICR0aGlzLT5hcHAtPnN0b3JhZ2UtPmdldENvbGxlY3Rpb24oImZvcm1zL3skZm9ybX0iKTsNCiAgICB9LA0KDQogICAgJ2ZpbmQnID0+IGZ1bmN0aW9uKCRmb3JtLCAkb3B0aW9ucyA9IFtdKSB7DQoNCiAgICAgICAgJGZvcm1zID0gJHRoaXMtPmZvcm0oJGZvcm0pOw0KDQogICAgICAgIGlmICghJGZvcm1zKSByZXR1cm4gZmFsc2U7DQoNCiAgICAgICAgJGZvcm0gPSAkZm9ybXNbJ19pZCddOw0KDQogICAgICAgIC8vIHNvcnQgYnkgY3VzdG9tIG9yZGVyIGlmIGZvcm0gaXMgc29ydGFibGUNCiAgICAgICAgaWYgKGlzc2V0KCRmb3Jtc1snc29ydGFibGUnXSkgJiYgJGZvcm1zWydzb3J0YWJsZSddICYmICFpc3NldCgkb3B0aW9uc1snc29ydCddKSkgew0KICAgICAgICAgICAgJG9wdGlvbnNbJ3NvcnQnXSA9IFsnX29yZGVyJyA9PiAxXTsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiAoYXJyYXkpJHRoaXMtPmFwcC0+c3RvcmFnZS0+ZmluZCgiZm9ybXMveyRmb3JtfSIsICRvcHRpb25zKTsNCiAgICB9LA0KDQogICAgJ2ZpbmRPbmUnID0+IGZ1bmN0aW9uKCRmb3JtLCAkY3JpdGVyaWEgPSBbXSwgJHByb2plY3Rpb24gPSBudWxsKSB7DQoNCiAgICAgICAgJGZvcm1zID0gJHRoaXMtPmZvcm0oJGZvcm0pOw0KDQogICAgICAgIGlmICghJGZvcm1zKSByZXR1cm4gZmFsc2U7DQoNCiAgICAgICAgJGZvcm0gPSAkZm9ybXNbJ19pZCddOw0KDQogICAgICAgIHJldHVybiAkdGhpcy0+YXBwLT5zdG9yYWdlLT5maW5kT25lKCJmb3Jtcy97JGZvcm19IiwgJGNyaXRlcmlhLCAkcHJvamVjdGlvbik7DQogICAgfSwNCg0KICAgICdzYXZlJyA9PiBmdW5jdGlvbigkZm9ybSwgJGRhdGEpIHsNCg0KICAgICAgICAkZm9ybXMgPSAkdGhpcy0+Zm9ybSgkZm9ybSk7DQoNCiAgICAgICAgaWYgKCEkZm9ybXMpIHJldHVybiBmYWxzZTsNCg0KICAgICAgICAkbmFtZSAgICAgICA9ICRmb3JtOw0KICAgICAgICAkZm9ybSAgICAgICA9ICRmb3Jtc1snX2lkJ107DQogICAgICAgICRkYXRhICAgICAgID0gaXNzZXQoJGRhdGFbMF0pID8gJGRhdGEgOiBbJGRhdGFdOw0KICAgICAgICAkcmV0dXJuICAgICA9IFtdOw0KICAgICAgICAkbW9kaWZpZWQgICA9IHRpbWUoKTsNCg0KICAgICAgICBmb3JlYWNoICgkZGF0YSBhcyAkZW50cnkpIHsNCg0KICAgICAgICAgICAgJGlzVXBkYXRlID0gaXNzZXQoJGVudHJ5WydfaWQnXSk7DQoNCiAgICAgICAgICAgICRlbnRyeVsnX21vZGlmaWVkJ10gPSAkbW9kaWZpZWQ7DQoNCiAgICAgICAgICAgIGlmICghJGlzVXBkYXRlKSB7DQogICAgICAgICAgICAgICAgJGVudHJ5WydfY3JlYXRlZCddID0gJGVudHJ5WydfbW9kaWZpZWQnXTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgJHRoaXMtPmFwcC0+dHJpZ2dlcignZm9ybXMuc2F2ZS5iZWZvcmUnLCBbJG5hbWUsICYkZW50cnldKTsNCiAgICAgICAgICAgICR0aGlzLT5hcHAtPnRyaWdnZXIoImZvcm1zLnNhdmUuYmVmb3JlLnskbmFtZX0iLCBbJG5hbWUsICYkZW50cnldKTsNCg0KICAgICAgICAgICAgJHJldCA9ICR0aGlzLT5hcHAtPnN0b3JhZ2UtPnNhdmUoImZvcm1zL3skZm9ybX0iLCAkZW50cnkpOw0KDQogICAgICAgICAgICAkdGhpcy0+YXBwLT50cmlnZ2VyKCdmb3Jtcy5zYXZlLmFmdGVyJywgWyRuYW1lLCAmJGVudHJ5XSk7DQogICAgICAgICAgICAkdGhpcy0+YXBwLT50cmlnZ2VyKCJmb3Jtcy5zYXZlLmFmdGVyLnskbmFtZX0iLCBbJG5hbWUsICYkZW50cnldKTsNCg0KICAgICAgICAgICAgJHJldHVybltdID0gJHJldCA/ICRlbnRyeSA6IGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGNvdW50KCRyZXR1cm4pID09IDEgPyAkcmV0dXJuWzBdIDogJHJldHVybjsNCiAgICB9LA0KDQogICAgJ3JlbW92ZScgPT4gZnVuY3Rpb24oJGZvcm0sICRjcml0ZXJpYSkgew0KDQogICAgICAgICRmb3JtcyA9ICR0aGlzLT5mb3JtKCRmb3JtKTsNCg0KICAgICAgICBpZiAoISRmb3JtcykgcmV0dXJuIGZhbHNlOw0KDQogICAgICAgICRmb3JtID0gJGZvcm1zWydfaWQnXTsNCg0KICAgICAgICByZXR1cm4gJHRoaXMtPmFwcC0+c3RvcmFnZS0+cmVtb3ZlKCJmb3Jtcy97JGZvcm19IiwgJGNyaXRlcmlhKTsNCiAgICB9LA0KDQogICAgJ2NvdW50JyA9PiBmdW5jdGlvbigkZm9ybSwgJGNyaXRlcmlhID0gW10pIHsNCg0KICAgICAgICAkZm9ybXMgPSAkdGhpcy0+Zm9ybSgkZm9ybSk7DQoNCiAgICAgICAgaWYgKCEkZm9ybXMpIHJldHVybiBmYWxzZTsNCg0KICAgICAgICAkZm9ybSA9ICRmb3Jtc1snX2lkJ107DQoNCiAgICAgICAgcmV0dXJuICR0aGlzLT5hcHAtPnN0b3JhZ2UtPmNvdW50KCJmb3Jtcy97JGZvcm19IiwgJGNyaXRlcmlhKTsNCiAgICB9LA0KDQogICAgJ29wZW4nID0+IGZ1bmN0aW9uKCRuYW1lLCAkb3B0aW9ucyA9IFtdKSB7DQoNCiAgICAgICAgJHRoaXMtPmFwcC0+dHJpZ2dlcigiZm9ybXMub3Blbi5iZWZvcmUiLCBbJG5hbWUsICYkb3B0aW9uc10pOw0KDQogICAgICAgICRvcHRpb25zID0gYXJyYXlfbWVyZ2UoWw0KICAgICAgICAgICAgJ2lkJyAgICAgICAgICA9PiB1bmlxaWQoJ2Zvcm0nKSwNCiAgICAgICAgICAgICdjbGFzcycgICAgICAgPT4gJycsDQogICAgICAgICAgICAnYWN0aW9uJyAgICAgID0+ICR0aGlzLT5hcHAtPnJvdXRlVXJsKCcvYXBpL2Zvcm1zL3N1Ym1pdC8nLiRuYW1lKSwNCiAgICAgICAgICAgICdtZXRob2QnICAgICAgPT4gJ3Bvc3QnLA0KICAgICAgICAgICAgJ2VuY3R5cGUnICAgICA9PiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsDQogICAgICAgICAgICAnY3NyZicgICAgICAgID0+ICR0aGlzLT5hcHAtPmhhc2goJG5hbWUpLA0KICAgICAgICAgICAgJ21haWxzdWJqZWN0JyA9PiBmYWxzZSwNCiAgICAgICAgICAgICdpbmNsdWRlX2pzJyAgPT4gdHJ1ZQ0KICAgICAgICBdLCAkb3B0aW9ucyk7DQoNCiAgICAgICAgJHRoaXMtPmFwcC0+cmVuZGVyVmlldygnZm9ybXM6dmlld3MvYXBpL2Zvcm0ucGhwJywgY29tcGFjdCgnbmFtZScsICdvcHRpb25zJykpOw0KDQogICAgICAgICR0aGlzLT5hcHAtPnRyaWdnZXIoImZvcm1zLm9wZW4uYWZ0ZXIiLCBbJG5hbWUsICYkb3B0aW9uc10pOw0KDQogICAgfSwNCg0KICAgICdjbG9zZScgPT4gZnVuY3Rpb24oJG5hbWUgPSBudWxsLCAkb3B0aW9ucyA9IFtdKSB7DQoNCiAgICAgICAgJHRoaXMtPmFwcC0+dHJpZ2dlcigiZm9ybXMuY2xvc2UuYmVmb3JlIiwgWyRuYW1lLCAmJG9wdGlvbnNdKTsNCiAgICAgICAgZWNobyAnPC9mb3JtPic7DQogICAgICAgICR0aGlzLT5hcHAtPnRyaWdnZXIoImZvcm1zLmNsb3NlLmFmdGVyIiwgWyRuYW1lLCAmJG9wdGlvbnNdKTsNCg0KICAgIH0sDQoNCiAgICAnc3VibWl0JyA9PiBmdW5jdGlvbigkZm9ybSwgJGRhdGEsICRvcHRpb25zID0gW10pIHsNCg0KICAgICAgICAkZnJtID0gJHRoaXMtPmZvcm0oJGZvcm0pOw0KDQogICAgICAgIGlmICghJGZybSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gY3VzdG9tIGZvcm0gdmFsaWRhdGlvbg0KICAgICAgICBpZiAoJHRoaXMtPmFwcC0+cGF0aCgiI2NvbmZpZzpmb3Jtcy97JGZvcm19LnBocCIpICYmIGZhbHNlPT09aW5jbHVkZSgkdGhpcy0+YXBwLT5wYXRoKCIjY29uZmlnOmZvcm1zL3skZm9ybX0ucGhwIikpKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICAkdGhpcy0+YXBwLT50cmlnZ2VyKCdmb3Jtcy5zdWJtaXQuYmVmb3JlJywgWyRmb3JtLCAmJGRhdGEsICRmcm0sICYkb3B0aW9uc10pOw0KDQogICAgICAgIGlmIChpc3NldCgkZnJtWydlbWFpbF9mb3J3YXJkJ10pICYmICRmcm1bJ2VtYWlsX2ZvcndhcmQnXSkgew0KDQogICAgICAgICAgICAkZW1haWxzICAgICAgICAgID0gYXJyYXlfbWFwKCd0cmltJywgZXhwbG9kZSgnLCcsICRmcm1bJ2VtYWlsX2ZvcndhcmQnXSkpOw0KICAgICAgICAgICAgJGZpbHRlcmVkX2VtYWlscyA9IFtdOw0KDQogICAgICAgICAgICBmb3JlYWNoICgkZW1haWxzIGFzICR0byl7DQoNCiAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBlYWNoIGVtYWlsIGFkZHJlc3MgaW5kaXZpZHVhbGx5LCBwdXNoIGlmIHZhbGlkDQogICAgICAgICAgICAgICAgaWYgKCR0aGlzLT5hcHAtPmhlbHBlcigndXRpbHMnKS0+aXNFbWFpbCgkdG8pKXsNCiAgICAgICAgICAgICAgICAgICAgJGZpbHRlcmVkX2VtYWlsc1tdID0gJHRvOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGNvdW50KCRmaWx0ZXJlZF9lbWFpbHMpKSB7DQoNCiAgICAgICAgICAgICAgICAkZnJtWydlbWFpbF9mb3J3YXJkJ10gPSBpbXBsb2RlKCcsJywgJGZpbHRlcmVkX2VtYWlscyk7DQoNCiAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBhbiBlbWFpbCB0ZW1wbGF0ZSBhdmFpbGFibGUNCiAgICAgICAgICAgICAgICBpZiAoJHRlbXBsYXRlID0gJHRoaXMtPmFwcC0+cGF0aCgiI2NvbmZpZzpmb3Jtcy9lbWFpbHMveyRmb3JtfS5waHAiKSkgew0KDQogICAgICAgICAgICAgICAgICAgICRib2R5ID0gJHRoaXMtPmFwcC0+cmVuZGVyZXItPmZpbGUoJHRlbXBsYXRlLCBbJ2RhdGEnID0+ICRkYXRhLCAnZnJtJyA9PiAkZnJtXSwgZmFsc2UpOw0KDQogICAgICAgICAgICAgICAgLy8gUHJlcGFyZSB0ZW1wbGF0ZSBtYW51YWxseQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgJGJvZHkgPSBbXTsNCg0KICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkZGF0YSBhcyAka2V5ID0+ICR2YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJGJvZHlbXSA9ICI8Yj57JGtleX06PC9iPlxuPGJyPiI7DQogICAgICAgICAgICAgICAgICAgICAgICAkYm9keVtdID0gKGlzX3N0cmluZygkdmFsdWUpID8gJHZhbHVlOmpzb25fZW5jb2RlKCR2YWx1ZSkpLiJcbjxicj4iOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgJGJvZHkgPSBpbXBsb2RlKCJcbjxicj4iLCAkYm9keSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgJGZvcm1uYW1lID0gaXNzZXQoJGZybVsnbGFiZWwnXSkgJiYgdHJpbSgkZnJtWydsYWJlbCddKSA/ICRmcm1bJ2xhYmVsJ10gOiAkZm9ybTsNCg0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICRyZXNwb25zZSA9ICR0aGlzLT5hcHAtPm1haWxlci0+bWFpbCgkZnJtWydlbWFpbF9mb3J3YXJkJ10sICRvcHRpb25zWydzdWJqZWN0J10gPz8gIk5ldyBmb3JtIGRhdGEgZm9yOiB7JGZvcm1uYW1lfSIsICRib2R5LCAkb3B0aW9ucyk7DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSAkZS0+Z2V0TWVzc2FnZSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChpc3NldCgkZnJtWydzYXZlX2VudHJ5J10pICYmICRmcm1bJ3NhdmVfZW50cnknXSkgew0KICAgICAgICAgICAgJGVudHJ5ID0gWydkYXRhJyA9PiAkZGF0YV07DQogICAgICAgICAgICAkdGhpcy0+c2F2ZSgkZm9ybSwgJGVudHJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgICR0aGlzLT5hcHAtPnRyaWdnZXIoJ2Zvcm1zLnN1Ym1pdC5hZnRlcicsIFskZm9ybSwgJiRkYXRhLCAkZnJtXSk7DQoNCiAgICAgICAgcmV0dXJuIChpc3NldCgkcmVzcG9uc2UpICYmICRyZXNwb25zZSAhPT0gdHJ1ZSkgPyBbJ2Vycm9yJyA9PiAkcmVzcG9uc2UsICdkYXRhJyA9PiAkZGF0YV0gOiAkZGF0YTsNCiAgICB9DQpdKTsNCg0KLy8gQUNMDQokYXBwKCdhY2wnKS0+YWRkUmVzb3VyY2UoJ2Zvcm1zJywgWydjcmVhdGUnLCAnZGVsZXRlJywgJ21hbmFnZSddKTsNCg0KDQovLyBSRVNUDQppZiAoQ09DS1BJVF9BUElfUkVRVUVTVCkgew0KDQogICAgJHRoaXMtPmJpbmQoJy9hcGkvZm9ybXMvc3VibWl0Lzpmb3JtJywgZnVuY3Rpb24oJHBhcmFtcykgew0KDQogICAgICAgICRmb3JtID0gJHBhcmFtc1siZm9ybSJdOw0KICAgICAgICAkZm9ybWhhc2ggPSAkdGhpcy0+cGFyYW0oJ19fY3NyZicsIGZhbHNlKTsNCg0KICAgICAgICAvLyBTZWN1cml0eSBjaGVjaw0KICAgICAgICBpZiAoIXBhc3N3b3JkX3ZlcmlmeSgkZm9ybSwgJGZvcm1oYXNoKSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCRkYXRhID0gJHRoaXMtPnBhcmFtKCdmb3JtJywgZmFsc2UpKSB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXMtPm1vZHVsZSgnZm9ybXMnKS0+c3VibWl0KCRmb3JtLCAkZGF0YSwgJHRoaXMtPnBhcmFtKCdmb3JtX29wdGlvbnMnLCBbXSkpOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KDQogICAgfSwgJHRoaXMtPnBhcmFtKCdfX2NzcmYnLCBmYWxzZSkpOw0KDQogICAgaWYgKCEkdGhpcy0+cGFyYW0oJ19fY3NyZicsIGZhbHNlKSkgew0KDQogICAgICAgICRhcHAtPm9uKCdjb2NrcGl0LnJlc3QuaW5pdCcsIGZ1bmN0aW9uKCRyb3V0ZXMpIHsNCiAgICAgICAgICAgICRyb3V0ZXNbJ2Zvcm1zJ10gPSAnRm9ybXNcXENvbnRyb2xsZXJcXFJlc3RBcGknOw0KICAgICAgICB9KTsNCiAgICB9DQp9DQoNCi8vIEFETUlODQppZiAoQ09DS1BJVF9BRE1JTl9DUCkgew0KICAgIGluY2x1ZGVfb25jZShfX0RJUl9fLicvYWRtaW4ucGhwJyk7DQp9DQoNCi8vIENMSQ0KaWYgKENPQ0tQSVRfQ0xJKSB7DQogICAgJHRoaXMtPnBhdGgoJyNjbGknLCBfX0RJUl9fLicvY2xpJyk7DQp9DQoiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";