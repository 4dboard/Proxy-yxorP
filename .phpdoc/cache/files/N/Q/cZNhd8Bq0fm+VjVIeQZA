1689528007
waR3U4bTeM%3A835f74ba7e32b679b3061cd93833b63e-07e21edd722f5c35a205e911cf242947
s:21680:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjA3ZTIxZWRkNzIyZjVjMzVhMjA1ZTkxMWNmMjQyOTQ3IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTQ6ImNvbGxlY3Rpb24ucGhwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6NjM6ImFwcC9saWIvY29ja3BpdC9tb2R1bGVzL0NvbGxlY3Rpb25zL3ZpZXdzL2ltcG9ydC9jb2xsZWN0aW9uLnBocCI7czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBzb3VyY2UiO3M6MTUzMTI6Ig0Ke3sgJGFwcC0+YXNzZXRzKFsnY29sbGVjdGlvbnM6YXNzZXRzL2ltcG9ydC9wYXJzZXIuanMnLCAnY29sbGVjdGlvbnM6YXNzZXRzL2ltcG9ydC9maWx0ZXIuanMnXSwgJGFwcFsnY29ja3BpdC92ZXJzaW9uJ10pIH19DQoNCjxkaXY+DQogICAgPHVsIGNsYXNzPSJ1ay1icmVhZGNydW1iIj4NCiAgICAgICAgPGxpPjxhIGhyZWY9IkByb3V0ZSgnL2NvbGxlY3Rpb25zJykiPkBsYW5nKCdDb2xsZWN0aW9ucycpPC9hPjwvbGk+DQogICAgICAgIDxsaSBkYXRhLXVrLWRyb3Bkb3duPSJtb2RlOidob3ZlciwgZGVsYXk6MzAwJyI+DQoNCiAgICAgICAgICAgIDxhIGhyZWY9IkByb3V0ZSgnL2NvbGxlY3Rpb25zL2VudHJpZXMvJy4kY29sbGVjdGlvblsnbmFtZSddKSI+PGkgY2xhc3M9InVrLWljb24tYmFycyI+PC9pPiB7eyBodG1sc3BlY2lhbGNoYXJzKEAkY29sbGVjdGlvblsnbGFiZWwnXSA/ICRjb2xsZWN0aW9uWydsYWJlbCddOiRjb2xsZWN0aW9uWyduYW1lJ10sIEVOVF9RVU9URVMsICdVVEYtOCcpIH19PC9hPg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ1ay1kcm9wZG93biI+DQogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJ1ay1uYXYgdWstbmF2LWRyb3Bkb3duIj4NCiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJ1ay1uYXYtaGVhZGVyIj5AbGFuZygnQWN0aW9ucycpPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9IkByb3V0ZSgnL2NvbGxlY3Rpb25zL2NvbGxlY3Rpb24vJy4kY29sbGVjdGlvblsnbmFtZSddKSI+QGxhbmcoJ0VkaXQnKTwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICBAaWYoJGFwcC0+bW9kdWxlKCdjb2xsZWN0aW9ucycpLT5oYXNhY2Nlc3MoJGNvbGxlY3Rpb25bJ25hbWUnXSwgJ2VudHJpZXNfZGVsZXRlJykpDQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0idWstbmF2LWRpdmlkZXIiPjwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSJAcm91dGUoJy9jb2xsZWN0aW9ucy90cmFzaC9jb2xsZWN0aW9uLycuJGNvbGxlY3Rpb25bJ25hbWUnXSkiPkBsYW5nKCdUcmFzaCcpPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgIEBlbmRpZg0KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InVrLW5hdi1kaXZpZGVyIj48L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InVrLXRleHQtdHJ1bmNhdGUiPjxhIGhyZWY9IkByb3V0ZSgnL2NvbGxlY3Rpb25zL2V4cG9ydC8nLiRjb2xsZWN0aW9uWyduYW1lJ10pIiBkb3dubG9hZD0ie3sgJGNvbGxlY3Rpb25bJ25hbWUnXSB9fS5jb2xsZWN0aW9uLmpzb24iPkBsYW5nKCdFeHBvcnQgZW50cmllcycpPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDwvbGk+DQogICAgICAgIDxsaSBjbGFzcz0idWstYWN0aXZlIj48c3Bhbj5AbGFuZygnSW1wb3J0Jyk8L3NwYW4+PC9saT4NCiAgICA8L3VsPg0KDQo8L2Rpdj4NCg0KDQo8ZGl2IGNsYXNzPSJ1ay1tYXJnaW4tdG9wIiByaW90LXZpZXc+DQoNCiAgICA8ZGl2IGNsYXNzPSJ1ay12aWV3cG9ydC1oZWlnaHQtMS0zIHVrLWZsZXggdWstZmxleC1jZW50ZXIgdWstZmxleC1taWRkbGUiIHJlZj0icGFyc2UiIGRhdGEtc3RlcD0icGFyc2UiIHNob3c9IntzdGVwPT0ncGFyc2UnfSI+DQogICAgICAgIDxkaXYgY2xhc3M9InVrLXRleHQtY2VudGVyIj4NCiAgICAgICAgICAgIDxpIGNsYXNzPSJ1ay1oMSB1ay1pY29uLXNwaW5uZXIgdWstaWNvbi1zcGluIj48L2k+DQogICAgICAgICAgICA8cCBjbGFzcz0idWstdGV4dC1tdXRlZCB1ay10ZXh0LWxhcmdlIj5AbGFuZygnUGFyc2luZyBmaWxlLi4uJyk8L3A+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPGRpdiBjbGFzcz0idWstdmlld3BvcnQtaGVpZ2h0LTEtMyB1ay1mbGV4IHVrLWZsZXgtY2VudGVyIHVrLWZsZXgtbWlkZGxlIiByZWY9InByb2Nlc3MiIGRhdGEtc3RlcD0icHJvY2VzcyIgc2hvdz0ie3N0ZXA9PSdwcm9jZXNzJ30iPg0KICAgICAgICA8ZGl2IGNsYXNzPSJ1ay10ZXh0LWNlbnRlciI+DQogICAgICAgICAgICA8aSBjbGFzcz0idWstaDEgdWstaWNvbi1zcGlubmVyIHVrLWljb24tc3BpbiI+PC9pPg0KICAgICAgICAgICAgPHAgY2xhc3M9InVrLXRleHQtbXV0ZWQgdWstdGV4dC1sYXJnZSI+PHNwYW4gcmVmPSJwcm9ncmVzcyI+PC9zcGFuPjwvcD4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8ZGl2IHJlZj0ic3RlcDEiIGNsYXNzPSJ1ay1wYWJlbCB1ay1wYW5lbC1ib3ggdWstcGFuZWwtY2FyZCB1ay10ZXh0LWNlbnRlciB1ay12aWV3cG9ydC1oZWlnaHQtMS0zIHVrLWZsZXggdWstZmxleC1jZW50ZXIgdWstZmxleC1taWRkbGUiIGRhdGEtc3RlcD0iMSIgc2hvdz0ie3N0ZXA9PTF9Ij4NCiAgICAgICAgPGRpdj4NCg0KICAgICAgICAgICAgPHA+DQogICAgICAgICAgICAgICAgPGltZyBzcmM9IkB1cmwoJ2Fzc2V0czphcHAvbWVkaWEvaWNvbnMvaW1wb3J0LnN2ZycpIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZGF0YS11ay1zdmcgYWx0PSJJbXBvcnQiPg0KICAgICAgICAgICAgPC9wPg0KDQogICAgICAgICAgICA8cCBjbGFzcz0idWstdGV4dC1tdXRlZCB1ay10ZXh0LWxhcmdlIHVrLW1hcmdpbi10b3AiPg0KICAgICAgICAgICAgICAgIERyb3AgYSBmaWxlIGhlcmUgb3IgPGEgY2xhc3M9InVrLWZvcm0tZmlsZSI+c2VsZWN0aW5nIG9uZTxpbnB1dCB0eXBlPSJmaWxlIj48L2E+DQogICAgICAgICAgICA8L3A+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPGRpdiByZWY9InN0ZXAyIiBkYXRhLXN0ZXA9IjEiIGlmPSJ7c3RlcD09Mn0iIHNob3c9IntzdGVwPT0yfSI+DQoNCiAgICAgICAgPGgyPnsgZmlsZS5uYW1lIH08L2gyPg0KICAgICAgICA8ZGl2IGNsYXNzPSJ1ay1tYXJnaW4gdWstdGV4dC1tdXRlZCI+eyBkYXRhLnJvd3MubGVuZ3RoIH0gQGxhbmcoJ0VudHJpZXMgZm91bmQuJyk8L2Rpdj4NCg0KICAgICAgICA8dGFibGUgY2xhc3M9InVrLXRhYmxlIHVrLXRhYmxlLWJvcmRlciB1ay10YWJsZS1zdHJpcGVkIHVrLW1hcmdpbi10b3AiPg0KICAgICAgICAgICAgPHRoZWFkPg0KICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgPHRoIHdpZHRoPSIxMCI+PC90aD4NCiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJ1ay10ZXh0LXNtYWxsIj5AbGFuZygnQ29sbGVjdGlvbiBGaWVsZCcpPC90aD4NCiAgICAgICAgICAgICAgICAgICAgPHRoIHdpZHRoPSIzMCUiIGNsYXNzPSJ1ay10ZXh0LXNtYWxsIj5AbGFuZygnTWFwIEZpZWxkJyk8L3RoPg0KICAgICAgICAgICAgICAgICAgICA8dGggd2lkdGg9IjEwIiBjbGFzcz0idWstdGV4dC1zbWFsbCI+QGxhbmcoJ0ZpbHRlcicpPC90aD4NCiAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgPC90aGVhZD4NCiAgICAgICAgICAgIDx0Ym9keSBjbGFzcz0idWstZm9ybSI+DQogICAgICAgICAgICAgICAgPHRyIGVhY2g9IntmaWVsZCxpZHggaW4gZmllbGRzfSI+DQogICAgICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz0idWstYmFkZ2UgdWstYmFkZ2UtZGFuZ2VyIiBpZj0ie2ZpZWxkLnJlcXVpcmVkfSIgdGl0bGU9IkBsYW5nKCdSZXF1aXJlZCcpIj5SPC9zcGFuPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlmPSJ7IGZpZWxkLl9sYW5nIH0iIGNsYXNzPSJ1ay1tYXJnaW4tbGVmdCB1ay1tYXJnaW4tc21hbGwtcmlnaHQgdWstaWNvbi1nbG9iZSB1ay10ZXh0LW11dGVkIiB0aXRsZT0iQGxhbmcoJ0xvY2FsaXplZCBmaWVsZCcpIiBkYXRhLXVrLXRvb2x0aXA9InBvczonbGVmdCciPjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ7ZmllbGQuX2xhbmcgJiYgJ3VrLXRleHQtbXV0ZWQnfSI+eyBmaWVsZC5uYW1lIH08L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InVrLWZvcm0tc2VsZWN0Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0ieyBwYXJlbnQubWFwcGluZ1tmaWVsZC5uYW1lXSA/ICd1ay1saW5rLW11dGVkJzonJ30iPjxpIGNsYXNzPSJ1ay1pY29uLWV4Y2hhbmdlIiBzaG93PSJ7bWFwcGluZ1tmaWVsZC5uYW1lXX0iPjwvaT4geyBwYXJlbnQubWFwcGluZ1tmaWVsZC5uYW1lXSB8fCAnU2VsZWN0Li4uJ308L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz0idWstd2lkdGgtMS0xIiBvbmNoYW5nZT0ieyBzZXRNYXBwaW5nKGZpZWxkLm5hbWUpIH0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uPjwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGVhY2g9IntoLGhpZHggaW4gZGF0YS5oZWFkZXJzfSIgdmFsdWU9IntofSI+e2h9PC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InVrLW1hcmdpbi1zbWFsbC10b3AgdWstdGV4dC1zbWFsbCB1ay10ZXh0LW11dGVkIiBpZj0ie2ZpZWxkLnR5cGUgPT0gJ2NvbGxlY3Rpb25saW5rJyAmJiBwYXJlbnQubWFwcGluZ1tmaWVsZC5uYW1lXSAmJiBwYXJlbnQuZmlsdGVyW2ZpZWxkLm5hbWVdfSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBsYW5nKCdNYXRjaCBhZ2FpbnN0OicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idWstZm9ybS1zZWxlY3QiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGQub3B0aW9ucy5saW5rfS48YT57cGFyZW50LmZpbHRlckRhdGFbZmllbGQubmFtZV0gfHwgJyhTZWxlY3QgZmllbGQuLi4pJ308L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3Qgb25jaGFuZ2U9Insgc2V0RmlsdGVyRGF0YShmaWVsZC5uYW1lKSB9Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+PC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJ7Zi5uYW1lfSIgZWFjaD0ie2YgaW4gX0NPTF9bZmllbGQub3B0aW9ucy5saW5rXS5maWVsZHN9Ij57Zi5uYW1lfTwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ1ay10ZXh0LWNlbnRlciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJ1ay1jaGVja2JveCIgdHlwZT0iY2hlY2tib3giIG9uY2hhbmdlPSJ7IHNldEZpbHRlcihmaWVsZC5uYW1lKSB9IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDwvdGJvZHk+DQogICAgICAgIDwvdGFibGU+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0idWstbWFyZ2luLWxhcmdlLXRvcCI+DQogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ1ay1idXR0b24gdWstYnV0dG9uLWxhcmdlIHVrLWJ1dHRvbi1wcmltYXJ5IiBvbmNsaWNrPSJ7IGRvSW1wb3J0IH0iPkBsYW5nKCdJbXBvcnQnKTwvYnV0dG9uPg0KICAgICAgICAgICAgPGEgY2xhc3M9InVrLWJ1dHRvbiB1ay1idXR0b24tbGFyZ2UgdWstYnV0dG9uLWxpbmsiIG9uY2xpY2s9IntyZXN0YXJ0fSI+QGxhbmcoJ0NhbmNlbCcpPC9hPg0KICAgICAgICA8L2Rpdj4NCg0KICAgIDwvZGl2Pg0KDQogICAgPHNjcmlwdCB0eXBlPSJ2aWV3L3NjcmlwdCI+DQoNCiAgICAgICAgdmFyICR0aGlzID0gdGhpczsNCg0KICAgICAgICB0aGlzLm1peGluKFJpb3RCaW5kTWl4aW4pOw0KDQogICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IHt7IGpzb25fZW5jb2RlKCRjb2xsZWN0aW9uKSB9fTsNCiAgICAgICAgdGhpcy5maWxlID0gbnVsbDsNCiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDsNCiAgICAgICAgdGhpcy5tYXBwaW5nID0ge307DQogICAgICAgIHRoaXMuZmlsdGVyID0ge307DQogICAgICAgIHRoaXMuZmlsdGVyRGF0YSA9IHt9Ow0KICAgICAgICB0aGlzLnN0ZXAgPSAxOw0KDQogICAgICAgIHRoaXMuZmllbGRzID0gW107DQoNCiAgICAgICAgdGhpcy5vbignbW91bnQnLCBmdW5jdGlvbigpIHsNCg0KICAgICAgICAgICAgSW1wb3J0RmlsdGVyLl9nZXRDb2xsZWN0aW9ucy50aGVuKGZ1bmN0aW9uKGNvbGxlY3Rpb25zKSB7DQogICAgICAgICAgICAgICAgd2luZG93Ll9DT0xfID0gY29sbGVjdGlvbnM7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgdGhpcy5yZWZzLnN0ZXAxLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3VrLWRyYWdvdmVyJyk7DQogICAgICAgICAgICB9LCBmYWxzZSk7DQoNCiAgICAgICAgICAgIHRoaXMucmVmcy5zdGVwMS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCd1ay1kcmFnb3ZlcicpOw0KICAgICAgICAgICAgfSwgZmFsc2UpOw0KDQogICAgICAgICAgICB0aGlzLnJlZnMuc3RlcDEuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICB9LCBmYWxzZSk7DQoNCiAgICAgICAgICAgIHRoaXMucmVmcy5zdGVwMS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZnVuY3Rpb24oZSl7DQoNCiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCg0KICAgICAgICAgICAgICAgICR0aGlzLnNlbGVjdEZpbGUoZS5kYXRhVHJhbnNmZXIuZmlsZXNbMF0pOw0KDQogICAgICAgICAgICB9LCBmYWxzZSk7DQoNCiAgICAgICAgICAgIHRoaXMucmVmcy5zdGVwMS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXsNCiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCg0KICAgICAgICAgICAgICAgICR0aGlzLnNlbGVjdEZpbGUoZS50YXJnZXQuZmlsZXNbMF0pOw0KDQogICAgICAgICAgICAgICAgLy8gbG9vc3kgaGFjaw0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIEFwcC4kKGUudGFyZ2V0KS5yZXBsYWNlV2l0aChlLnRhcmdldC5vdXRlckhUTUwpOw0KICAgICAgICAgICAgICAgIH0sIDEwMCk7DQoNCiAgICAgICAgICAgIH0sIGZhbHNlKTsNCg0KICAgICAgICB9KTsNCg0KICAgICAgICB0aGlzLmNvbGxlY3Rpb24uZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHsNCg0KICAgICAgICAgICAgJHRoaXMuZmllbGRzLnB1c2goZmllbGQpOw0KDQogICAgICAgICAgICBpZiAoZmllbGQubG9jYWxpemUgJiYgQXBwLiRkYXRhLmxhbmd1YWdlcykgew0KDQogICAgICAgICAgICAgICAgQXBwLiRkYXRhLmxhbmd1YWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGxhbmcsIGYpIHsNCg0KICAgICAgICAgICAgICAgICAgICBmID0gQXBwLiQuZXh0ZW5kKHt9LCBmaWVsZCk7DQoNCiAgICAgICAgICAgICAgICAgICAgZi5uYW1lID0gZi5uYW1lKydfJytsYW5nLmNvZGU7DQogICAgICAgICAgICAgICAgICAgIGYucmVxdWlyZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgZi5sb2NhbGl6ZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICBmLl9sYW5nID0gbGFuZw0KDQogICAgICAgICAgICAgICAgICAgICR0aGlzLmZpZWxkcy5wdXNoKGYpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICBzZXRGaWx0ZXIoZmllbGROYW1lKSB7DQogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZ0KSB7DQogICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJbZmllbGROYW1lXSA9IGV2dC5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBzZXRNYXBwaW5nKGZpZWxkTmFtZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkgew0KICAgICAgICAgICAgICAgIHRoaXMubWFwcGluZ1tmaWVsZE5hbWVdID0gZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBzZXRGaWx0ZXJEYXRhKGZpZWxkTmFtZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCl7DQogICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJEYXRhW2ZpZWxkTmFtZV0gPSBldnQuY3VycmVudFRhcmdldC52YWx1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHJlc3RhcnQoKSB7DQoNCiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG51bGw7DQogICAgICAgICAgICB0aGlzLm1hcHBpbmcgPSB7fTsNCiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0ge307DQogICAgICAgICAgICB0aGlzLmZpbHRlckRhdGEgPSB7fTsNCg0KICAgICAgICAgICAgdGhpcy5zdGVwID0gMTsNCiAgICAgICAgICAgIHRoaXMucmVmcy5zdGVwMS5jbGFzc0xpc3QucmVtb3ZlKCd1ay1kcmFnb3ZlcicpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gU1RFUCAxDQoNCiAgICAgICAgc2VsZWN0RmlsZShmaWxlKSB7DQoNCiAgICAgICAgICAgIGlmIChmaWxlKSB7DQogICAgICAgICAgICAgICAgZmlsZS5fdHlwZSA9IGZpbGUudHlwZTsNCiAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICBpZiAoZmlsZSAmJiAhZmlsZS50eXBlICYmIGZpbGUubmFtZS5tYXRjaCgvXC4oY3N2fGpzb24pJC9pKSkgew0KICAgICAgICAgICAgICAgIGZpbGUuX3R5cGUgPSBmaWxlLm5hbWUubWF0Y2goL1wuY3N2JC9pKSA/ICd0ZXh0L2Nzdic6J2FwcGxpY2F0aW9uL2pzb24nOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoIWZpbGUgfHwgWydhcHBsaWNhdGlvbi9qc29uJywgJ3RleHQvY3N2J10uaW5kZXhPZihmaWxlLl90eXBlKSA9PSAtMSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBBcHAudWkubm90aWZ5KCJPbmx5IEpTT04gYW5kIENTViBmaWxlcyBhcmUgc3VwcG9ydGVkLiIpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0aGlzLnN0ZXAgPSAncGFyc2UnOw0KICAgICAgICAgICAgdGhpcy51cGRhdGUoKTsNCg0KICAgICAgICAgICAgSW1wb3J0UGFyc2VyLnBhcnNlKGZpbGUpLnRoZW4oZnVuY3Rpb24oZGF0YSkgew0KDQogICAgICAgICAgICAgICAgJHRoaXMuZGF0YSA9IGRhdGE7DQoNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5oZWFkZXJzLmluZGV4T2YoJ19pZCcpICE9IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICR0aGlzLmZpZWxkcy51bnNoaWZ0KHtuYW1lOidfaWQnLCBvcHRpb25zOnt9fSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy8gYXV0by1tYXAgZmllbGRzDQogICAgICAgICAgICAgICAgJHRoaXMuZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZil7DQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhlYWRlcnMuaW5kZXhPZihmLm5hbWUpICE9IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5tYXBwaW5nW2YubmFtZV0gPSBmLm5hbWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICR0aGlzLmZpbGUgPSBmaWxlOw0KICAgICAgICAgICAgICAgICR0aGlzLnN0ZXAgPSAyOw0KICAgICAgICAgICAgICAgICR0aGlzLnVwZGF0ZSgpOw0KICAgICAgICAgICAgfSwgZnVuY3Rpb24obXNnKSB7DQogICAgICAgICAgICAgICAgQXBwLnVpLm5vdGlmeShtc2csICJkYW5nZXIiKTsNCiAgICAgICAgICAgICAgICAkdGhpcy5zdGVwID0gMTsNCiAgICAgICAgICAgICAgICAkdGhpcy51cGRhdGUoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCg0KDQogICAgICAgIC8vIEhFTFBFUg0KDQogICAgICAgIGRvSW1wb3J0KCkgew0KDQogICAgICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHRoaXMubWFwcGluZyB8fCB7fSkubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIEFwcC51aS5ub3RpZnkoIlBsZWFzZSBkZWZpbmUgc29tZSBmaWVsZCBtYXBwaW5ncyBmaXJzdC4iKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIHJlcXVpcmVkID0gW107DQoNCiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkgew0KICAgICAgICAgICAgICAgIGlmIChmaWVsZC5yZXF1aXJlZCAmJiAhJHRoaXMubWFwcGluZ1tmaWVsZC5uYW1lXSkgew0KICAgICAgICAgICAgICAgICAgICByZXF1aXJlZC5wdXNoKCc8c3Ryb25nPicrZmllbGQubmFtZSsnPC9zdHJvbmc+Jyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGlmIChyZXF1aXJlZC5sZW5ndGgpIHsNCg0KICAgICAgICAgICAgICAgIHJldHVybiBBcHAudWkubm90aWZ5KFsNCiAgICAgICAgICAgICAgICAgICAgQXBwLmkxOG4uZ2V0KCdSZXF1aXJlZCBmaWVsZHMgYXJlIG5vdCBtYXBwZWQ6JyksDQogICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJ1ay1tYXJnaW4tc21hbGwtdG9wIj4nK3JlcXVpcmVkKyc8L2Rpdj4nDQogICAgICAgICAgICAgICAgXS5qb2luKCcnKSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHZhciBjbnQgICAgPSAyMCwNCiAgICAgICAgICAgICAgICBmaWVsZHMgPSBfLmtleUJ5KHRoaXMuZmllbGRzLCAnbmFtZScpLA0KICAgICAgICAgICAgICAgIGNodW5rcyA9IGNodW5rKHRoaXMuZGF0YS5yb3dzLCBjbnQpLA0KICAgICAgICAgICAgICAgIGNoYWluICA9IFByb21pc2UucmVzb2x2ZSgpLA0KICAgICAgICAgICAgICAgIHByb2dyZXNzID0gMDsNCg0KICAgICAgICAgICAgdGhpcy5yZWZzLnByb2dyZXNzLmlubmVySFRNTCAgPSAnMCAlJzsNCiAgICAgICAgICAgIHRoaXMuc3RlcCA9ICdwcm9jZXNzJzsNCg0KICAgICAgICAgICAgY2h1bmtzLmZvckVhY2goZnVuY3Rpb24oY2h1bmspew0KDQogICAgICAgICAgICAgICAgY2hhaW4gPSBjaGFpbi50aGVuKGZ1bmN0aW9uKCkgew0KDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2VzID0gW10sIGVudHJpZXMgPSBbXTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsuZm9yRWFjaChmdW5jdGlvbihjLCBlbnRyeSkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkgPSB7fTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKCR0aGlzLm1hcHBpbmcpLmZvckVhY2goZnVuY3Rpb24oaywgdmFsLCBkKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBjWyR0aGlzLm1hcHBpbmdba11dOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkICAgPSAkdGhpcy5maWx0ZXJEYXRhW2tdOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdGhpcy5maWx0ZXJba10pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goSW1wb3J0RmlsdGVyLmZpbHRlcihmaWVsZHNba10sIHZhbCwgZCkudGhlbihmdW5jdGlvbih2YWwpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5W2tdID0gdmFsOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF8uaXNPYmplY3QodmFsKSAmJiAhQXJyYXkuaXNBcnJheSh2YWwpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeVtrXSA9IHZhbC50eXBlID09IGZpZWxkc1trXS50eXBlID8gdmFsIDogbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5W2tdID0gdmFsOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkc1trXS5vcHRpb25zLnNsdWcgJiYgdHlwZW9mIHZhbCA9PT0gInN0cmluZyIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5W2sgKyAiX3NsdWciXSA9IEFwcC5VdGlscy5zbHVnZ2lmeSh2YWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyaWVzLnB1c2goZW50cnkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCl7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHAucmVxdWVzdCgnL2NvbGxlY3Rpb25zL2ltcG9ydC9leGVjdXRlJyx7Y29sbGVjdGlvbjogJHRoaXMuY29sbGVjdGlvbi5uYW1lLCBlbnRyaWVzOiBlbnRyaWVzfSkudGhlbihmdW5jdGlvbihkYXRhKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gY250Ow0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+ICR0aGlzLmRhdGEucm93cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzID0gJHRoaXMuZGF0YS5yb3dzLmxlbmd0aDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnJlZnMucHJvZ3Jlc3MuaW5uZXJIVE1MID0gTWF0aC5jZWlsKChwcm9ncmVzcy8kdGhpcy5kYXRhLnJvd3MubGVuZ3RoKSoxMDApKycgJSc7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID09ICR0aGlzLmRhdGEucm93cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcC51aS5ub3RpZnkoIkltcG9ydCBjb21wbGV0ZWQuIiwgInN1Y2Nlc3MiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnJlc3RhcnQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnVwZGF0ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHAudWkubm90aWZ5KCdJbXBvcnQgZmFpbGVkLicsICdkYW5nZXInKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVzdGFydCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy51cGRhdGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24obXNnKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHAudWkubm90aWZ5KG1zZywgJ2RhbmdlcicpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gY250Ow0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID4gJHRoaXMuZGF0YS5yb3dzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9ICR0aGlzLmRhdGEucm93cy5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVmcy5wcm9ncmVzcy5pbm5lckhUTUwgPSBNYXRoLmNlaWwoKHByb2dyZXNzLyR0aGlzLmRhdGEucm93cy5sZW5ndGgpKjEwMCkrJyAlJzsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA9PSAkdGhpcy5kYXRhLnJvd3MubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcC51aS5ub3RpZnkoIkltcG9ydCBjb21wbGV0ZWQuIiwgInN1Y2Nlc3MiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVzdGFydCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy51cGRhdGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCg0KICAgICAgICBmdW5jdGlvbiBjaHVuayhhcnIsIGxlbikgew0KDQogICAgICAgICAgICB2YXIgY2h1bmtzID0gW10sIGkgPSAwLCBuID0gYXJyLmxlbmd0aDsNCg0KICAgICAgICAgICAgd2hpbGUgKGkgPCBuKSB7DQogICAgICAgICAgICAgICAgY2h1bmtzLnB1c2goYXJyLnNsaWNlKGksIGkgKz0gbGVuKSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBjaHVua3M7DQogICAgICAgIH0NCg0KICAgIDwvc2NyaXB0Pg0KDQo8L2Rpdj4NCiI7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lc3BhY2VzIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGluY2x1ZGVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGZ1bmN0aW9ucyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjb25zdGFudHMiO2E6MDp7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY2xhc3NlcyI7YTowOnt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbnRlcmZhY2VzIjthOjA6e31zOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHRyYWl0cyI7YTowOnt9czo0MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBlbnVtcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBtZXRhZGF0YSI7YTowOnt9fQ==";