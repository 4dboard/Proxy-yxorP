1688053738
waR3U4bTeM%3A54067d1e526f7d3af94ecfdcf2ee4995-07e21edd722f5c35a205e911cf242947
s:21668:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjA3ZTIxZWRkNzIyZjVjMzVhMjA1ZTkxMWNmMjQyOTQ3IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTQ6ImNvbGxlY3Rpb24ucGhwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6NTU6ImNvY2twaXQvbW9kdWxlcy9Db2xsZWN0aW9ucy92aWV3cy9pbXBvcnQvY29sbGVjdGlvbi5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjE1MzEyOiINCnt7ICRhcHAtPmFzc2V0cyhbJ2NvbGxlY3Rpb25zOmFzc2V0cy9pbXBvcnQvcGFyc2VyLmpzJywgJ2NvbGxlY3Rpb25zOmFzc2V0cy9pbXBvcnQvZmlsdGVyLmpzJ10sICRhcHBbJ2NvY2twaXQvdmVyc2lvbiddKSB9fQ0KDQo8ZGl2Pg0KICAgIDx1bCBjbGFzcz0idWstYnJlYWRjcnVtYiI+DQogICAgICAgIDxsaT48YSBocmVmPSJAcm91dGUoJy9jb2xsZWN0aW9ucycpIj5AbGFuZygnQ29sbGVjdGlvbnMnKTwvYT48L2xpPg0KICAgICAgICA8bGkgZGF0YS11ay1kcm9wZG93bj0ibW9kZTonaG92ZXIsIGRlbGF5OjMwMCciPg0KDQogICAgICAgICAgICA8YSBocmVmPSJAcm91dGUoJy9jb2xsZWN0aW9ucy9lbnRyaWVzLycuJGNvbGxlY3Rpb25bJ25hbWUnXSkiPjxpIGNsYXNzPSJ1ay1pY29uLWJhcnMiPjwvaT4ge3sgaHRtbHNwZWNpYWxjaGFycyhAJGNvbGxlY3Rpb25bJ2xhYmVsJ10gPyAkY29sbGVjdGlvblsnbGFiZWwnXTokY29sbGVjdGlvblsnbmFtZSddLCBFTlRfUVVPVEVTLCAnVVRGLTgnKSB9fTwvYT4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0idWstZHJvcGRvd24iPg0KICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0idWstbmF2IHVrLW5hdi1kcm9wZG93biI+DQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0idWstbmF2LWhlYWRlciI+QGxhbmcoJ0FjdGlvbnMnKTwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSJAcm91dGUoJy9jb2xsZWN0aW9ucy9jb2xsZWN0aW9uLycuJGNvbGxlY3Rpb25bJ25hbWUnXSkiPkBsYW5nKCdFZGl0Jyk8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgQGlmKCRhcHAtPm1vZHVsZSgnY29sbGVjdGlvbnMnKS0+aGFzYWNjZXNzKCRjb2xsZWN0aW9uWyduYW1lJ10sICdlbnRyaWVzX2RlbGV0ZScpKQ0KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InVrLW5hdi1kaXZpZGVyIj48L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iQHJvdXRlKCcvY29sbGVjdGlvbnMvdHJhc2gvY29sbGVjdGlvbi8nLiRjb2xsZWN0aW9uWyduYW1lJ10pIj5AbGFuZygnVHJhc2gnKTwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICBAZW5kaWYNCiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJ1ay1uYXYtZGl2aWRlciI+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJ1ay10ZXh0LXRydW5jYXRlIj48YSBocmVmPSJAcm91dGUoJy9jb2xsZWN0aW9ucy9leHBvcnQvJy4kY29sbGVjdGlvblsnbmFtZSddKSIgZG93bmxvYWQ9Int7ICRjb2xsZWN0aW9uWyduYW1lJ10gfX0uY29sbGVjdGlvbi5qc29uIj5AbGFuZygnRXhwb3J0IGVudHJpZXMnKTwvYT48L2xpPg0KICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8L2xpPg0KICAgICAgICA8bGkgY2xhc3M9InVrLWFjdGl2ZSI+PHNwYW4+QGxhbmcoJ0ltcG9ydCcpPC9zcGFuPjwvbGk+DQogICAgPC91bD4NCg0KPC9kaXY+DQoNCg0KPGRpdiBjbGFzcz0idWstbWFyZ2luLXRvcCIgcmlvdC12aWV3Pg0KDQogICAgPGRpdiBjbGFzcz0idWstdmlld3BvcnQtaGVpZ2h0LTEtMyB1ay1mbGV4IHVrLWZsZXgtY2VudGVyIHVrLWZsZXgtbWlkZGxlIiByZWY9InBhcnNlIiBkYXRhLXN0ZXA9InBhcnNlIiBzaG93PSJ7c3RlcD09J3BhcnNlJ30iPg0KICAgICAgICA8ZGl2IGNsYXNzPSJ1ay10ZXh0LWNlbnRlciI+DQogICAgICAgICAgICA8aSBjbGFzcz0idWstaDEgdWstaWNvbi1zcGlubmVyIHVrLWljb24tc3BpbiI+PC9pPg0KICAgICAgICAgICAgPHAgY2xhc3M9InVrLXRleHQtbXV0ZWQgdWstdGV4dC1sYXJnZSI+QGxhbmcoJ1BhcnNpbmcgZmlsZS4uLicpPC9wPg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9InVrLXZpZXdwb3J0LWhlaWdodC0xLTMgdWstZmxleCB1ay1mbGV4LWNlbnRlciB1ay1mbGV4LW1pZGRsZSIgcmVmPSJwcm9jZXNzIiBkYXRhLXN0ZXA9InByb2Nlc3MiIHNob3c9IntzdGVwPT0ncHJvY2Vzcyd9Ij4NCiAgICAgICAgPGRpdiBjbGFzcz0idWstdGV4dC1jZW50ZXIiPg0KICAgICAgICAgICAgPGkgY2xhc3M9InVrLWgxIHVrLWljb24tc3Bpbm5lciB1ay1pY29uLXNwaW4iPjwvaT4NCiAgICAgICAgICAgIDxwIGNsYXNzPSJ1ay10ZXh0LW11dGVkIHVrLXRleHQtbGFyZ2UiPjxzcGFuIHJlZj0icHJvZ3Jlc3MiPjwvc3Bhbj48L3A+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPGRpdiByZWY9InN0ZXAxIiBjbGFzcz0idWstcGFiZWwgdWstcGFuZWwtYm94IHVrLXBhbmVsLWNhcmQgdWstdGV4dC1jZW50ZXIgdWstdmlld3BvcnQtaGVpZ2h0LTEtMyB1ay1mbGV4IHVrLWZsZXgtY2VudGVyIHVrLWZsZXgtbWlkZGxlIiBkYXRhLXN0ZXA9IjEiIHNob3c9IntzdGVwPT0xfSI+DQogICAgICAgIDxkaXY+DQoNCiAgICAgICAgICAgIDxwPg0KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJAdXJsKCdhc3NldHM6YXBwL21lZGlhL2ljb25zL2ltcG9ydC5zdmcnKSIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGRhdGEtdWstc3ZnIGFsdD0iSW1wb3J0Ij4NCiAgICAgICAgICAgIDwvcD4NCg0KICAgICAgICAgICAgPHAgY2xhc3M9InVrLXRleHQtbXV0ZWQgdWstdGV4dC1sYXJnZSB1ay1tYXJnaW4tdG9wIj4NCiAgICAgICAgICAgICAgICBEcm9wIGEgZmlsZSBoZXJlIG9yIDxhIGNsYXNzPSJ1ay1mb3JtLWZpbGUiPnNlbGVjdGluZyBvbmU8aW5wdXQgdHlwZT0iZmlsZSI+PC9hPg0KICAgICAgICAgICAgPC9wPg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgcmVmPSJzdGVwMiIgZGF0YS1zdGVwPSIxIiBpZj0ie3N0ZXA9PTJ9IiBzaG93PSJ7c3RlcD09Mn0iPg0KDQogICAgICAgIDxoMj57IGZpbGUubmFtZSB9PC9oMj4NCiAgICAgICAgPGRpdiBjbGFzcz0idWstbWFyZ2luIHVrLXRleHQtbXV0ZWQiPnsgZGF0YS5yb3dzLmxlbmd0aCB9IEBsYW5nKCdFbnRyaWVzIGZvdW5kLicpPC9kaXY+DQoNCiAgICAgICAgPHRhYmxlIGNsYXNzPSJ1ay10YWJsZSB1ay10YWJsZS1ib3JkZXIgdWstdGFibGUtc3RyaXBlZCB1ay1tYXJnaW4tdG9wIj4NCiAgICAgICAgICAgIDx0aGVhZD4NCiAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgIDx0aCB3aWR0aD0iMTAiPjwvdGg+DQogICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0idWstdGV4dC1zbWFsbCI+QGxhbmcoJ0NvbGxlY3Rpb24gRmllbGQnKTwvdGg+DQogICAgICAgICAgICAgICAgICAgIDx0aCB3aWR0aD0iMzAlIiBjbGFzcz0idWstdGV4dC1zbWFsbCI+QGxhbmcoJ01hcCBGaWVsZCcpPC90aD4NCiAgICAgICAgICAgICAgICAgICAgPHRoIHdpZHRoPSIxMCIgY2xhc3M9InVrLXRleHQtc21hbGwiPkBsYW5nKCdGaWx0ZXInKTwvdGg+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDwvdGhlYWQ+DQogICAgICAgICAgICA8dGJvZHkgY2xhc3M9InVrLWZvcm0iPg0KICAgICAgICAgICAgICAgIDx0ciBlYWNoPSJ7ZmllbGQsaWR4IGluIGZpZWxkc30iPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9InVrLWJhZGdlIHVrLWJhZGdlLWRhbmdlciIgaWY9IntmaWVsZC5yZXF1aXJlZH0iIHRpdGxlPSJAbGFuZygnUmVxdWlyZWQnKSI+Ujwvc3Bhbj48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZj0ieyBmaWVsZC5fbGFuZyB9IiBjbGFzcz0idWstbWFyZ2luLWxlZnQgdWstbWFyZ2luLXNtYWxsLXJpZ2h0IHVrLWljb24tZ2xvYmUgdWstdGV4dC1tdXRlZCIgdGl0bGU9IkBsYW5nKCdMb2NhbGl6ZWQgZmllbGQnKSIgZGF0YS11ay10b29sdGlwPSJwb3M6J2xlZnQnIj48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ie2ZpZWxkLl9sYW5nICYmICd1ay10ZXh0LW11dGVkJ30iPnsgZmllbGQubmFtZSB9PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ1ay1mb3JtLXNlbGVjdCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9InsgcGFyZW50Lm1hcHBpbmdbZmllbGQubmFtZV0gPyAndWstbGluay1tdXRlZCc6Jyd9Ij48aSBjbGFzcz0idWstaWNvbi1leGNoYW5nZSIgc2hvdz0ie21hcHBpbmdbZmllbGQubmFtZV19Ij48L2k+IHsgcGFyZW50Lm1hcHBpbmdbZmllbGQubmFtZV0gfHwgJ1NlbGVjdC4uLid9PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9InVrLXdpZHRoLTEtMSIgb25jaGFuZ2U9Insgc2V0TWFwcGluZyhmaWVsZC5uYW1lKSB9Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbj48L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBlYWNoPSJ7aCxoaWR4IGluIGRhdGEuaGVhZGVyc30iIHZhbHVlPSJ7aH0iPntofTwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ1ay1tYXJnaW4tc21hbGwtdG9wIHVrLXRleHQtc21hbGwgdWstdGV4dC1tdXRlZCIgaWY9IntmaWVsZC50eXBlID09ICdjb2xsZWN0aW9ubGluaycgJiYgcGFyZW50Lm1hcHBpbmdbZmllbGQubmFtZV0gJiYgcGFyZW50LmZpbHRlcltmaWVsZC5uYW1lXX0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxocj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAbGFuZygnTWF0Y2ggYWdhaW5zdDonKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InVrLWZvcm0tc2VsZWN0Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkLm9wdGlvbnMubGlua30uPGE+e3BhcmVudC5maWx0ZXJEYXRhW2ZpZWxkLm5hbWVdIHx8ICcoU2VsZWN0IGZpZWxkLi4uKSd9PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG9uY2hhbmdlPSJ7IHNldEZpbHRlckRhdGEoZmllbGQubmFtZSkgfSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPjwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ie2YubmFtZX0iIGVhY2g9IntmIGluIF9DT0xfW2ZpZWxkLm9wdGlvbnMubGlua10uZmllbGRzfSI+e2YubmFtZX08L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPHRkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idWstdGV4dC1jZW50ZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0idWstY2hlY2tib3giIHR5cGU9ImNoZWNrYm94IiBvbmNoYW5nZT0ieyBzZXRGaWx0ZXIoZmllbGQubmFtZSkgfSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICA8L3Rib2R5Pg0KICAgICAgICA8L3RhYmxlPg0KDQogICAgICAgIDxkaXYgY2xhc3M9InVrLW1hcmdpbi1sYXJnZS10b3AiPg0KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idWstYnV0dG9uIHVrLWJ1dHRvbi1sYXJnZSB1ay1idXR0b24tcHJpbWFyeSIgb25jbGljaz0ieyBkb0ltcG9ydCB9Ij5AbGFuZygnSW1wb3J0Jyk8L2J1dHRvbj4NCiAgICAgICAgICAgIDxhIGNsYXNzPSJ1ay1idXR0b24gdWstYnV0dG9uLWxhcmdlIHVrLWJ1dHRvbi1saW5rIiBvbmNsaWNrPSJ7cmVzdGFydH0iPkBsYW5nKCdDYW5jZWwnKTwvYT4NCiAgICAgICAgPC9kaXY+DQoNCiAgICA8L2Rpdj4NCg0KICAgIDxzY3JpcHQgdHlwZT0idmlldy9zY3JpcHQiPg0KDQogICAgICAgIHZhciAkdGhpcyA9IHRoaXM7DQoNCiAgICAgICAgdGhpcy5taXhpbihSaW90QmluZE1peGluKTsNCg0KICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSB7eyBqc29uX2VuY29kZSgkY29sbGVjdGlvbikgfX07DQogICAgICAgIHRoaXMuZmlsZSA9IG51bGw7DQogICAgICAgIHRoaXMuZGF0YSA9IG51bGw7DQogICAgICAgIHRoaXMubWFwcGluZyA9IHt9Ow0KICAgICAgICB0aGlzLmZpbHRlciA9IHt9Ow0KICAgICAgICB0aGlzLmZpbHRlckRhdGEgPSB7fTsNCiAgICAgICAgdGhpcy5zdGVwID0gMTsNCg0KICAgICAgICB0aGlzLmZpZWxkcyA9IFtdOw0KDQogICAgICAgIHRoaXMub24oJ21vdW50JywgZnVuY3Rpb24oKSB7DQoNCiAgICAgICAgICAgIEltcG9ydEZpbHRlci5fZ2V0Q29sbGVjdGlvbnMudGhlbihmdW5jdGlvbihjb2xsZWN0aW9ucykgew0KICAgICAgICAgICAgICAgIHdpbmRvdy5fQ09MXyA9IGNvbGxlY3Rpb25zOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHRoaXMucmVmcy5zdGVwMS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCd1ay1kcmFnb3ZlcicpOw0KICAgICAgICAgICAgfSwgZmFsc2UpOw0KDQogICAgICAgICAgICB0aGlzLnJlZnMuc3RlcDEuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgndWstZHJhZ292ZXInKTsNCiAgICAgICAgICAgIH0sIGZhbHNlKTsNCg0KICAgICAgICAgICAgdGhpcy5yZWZzLnN0ZXAxLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgfSwgZmFsc2UpOw0KDQogICAgICAgICAgICB0aGlzLnJlZnMuc3RlcDEuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGZ1bmN0aW9uKGUpew0KDQogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQoNCiAgICAgICAgICAgICAgICAkdGhpcy5zZWxlY3RGaWxlKGUuZGF0YVRyYW5zZmVyLmZpbGVzWzBdKTsNCg0KICAgICAgICAgICAgfSwgZmFsc2UpOw0KDQogICAgICAgICAgICB0aGlzLnJlZnMuc3RlcDEuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQoNCiAgICAgICAgICAgICAgICAkdGhpcy5zZWxlY3RGaWxlKGUudGFyZ2V0LmZpbGVzWzBdKTsNCg0KICAgICAgICAgICAgICAgIC8vIGxvb3N5IGhhY2sNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBBcHAuJChlLnRhcmdldCkucmVwbGFjZVdpdGgoZS50YXJnZXQub3V0ZXJIVE1MKTsNCiAgICAgICAgICAgICAgICB9LCAxMDApOw0KDQogICAgICAgICAgICB9LCBmYWxzZSk7DQoNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7DQoNCiAgICAgICAgICAgICR0aGlzLmZpZWxkcy5wdXNoKGZpZWxkKTsNCg0KICAgICAgICAgICAgaWYgKGZpZWxkLmxvY2FsaXplICYmIEFwcC4kZGF0YS5sYW5ndWFnZXMpIHsNCg0KICAgICAgICAgICAgICAgIEFwcC4kZGF0YS5sYW5ndWFnZXMuZm9yRWFjaChmdW5jdGlvbihsYW5nLCBmKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgZiA9IEFwcC4kLmV4dGVuZCh7fSwgZmllbGQpOw0KDQogICAgICAgICAgICAgICAgICAgIGYubmFtZSA9IGYubmFtZSsnXycrbGFuZy5jb2RlOw0KICAgICAgICAgICAgICAgICAgICBmLnJlcXVpcmVkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIGYubG9jYWxpemUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgZi5fbGFuZyA9IGxhbmcNCg0KICAgICAgICAgICAgICAgICAgICAkdGhpcy5maWVsZHMucHVzaChmKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgc2V0RmlsdGVyKGZpZWxkTmFtZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyW2ZpZWxkTmFtZV0gPSBldnQuY3VycmVudFRhcmdldC5jaGVja2VkOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgc2V0TWFwcGluZyhmaWVsZE5hbWUpIHsNCiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm1hcHBpbmdbZmllbGROYW1lXSA9IGV2dC5jdXJyZW50VGFyZ2V0LnZhbHVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgc2V0RmlsdGVyRGF0YShmaWVsZE5hbWUpIHsNCiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpew0KICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyRGF0YVtmaWVsZE5hbWVdID0gZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICByZXN0YXJ0KCkgew0KDQogICAgICAgICAgICB0aGlzLmRhdGEgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5tYXBwaW5nID0ge307DQogICAgICAgICAgICB0aGlzLmZpbHRlciA9IHt9Ow0KICAgICAgICAgICAgdGhpcy5maWx0ZXJEYXRhID0ge307DQoNCiAgICAgICAgICAgIHRoaXMuc3RlcCA9IDE7DQogICAgICAgICAgICB0aGlzLnJlZnMuc3RlcDEuY2xhc3NMaXN0LnJlbW92ZSgndWstZHJhZ292ZXInKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFNURVAgMQ0KDQogICAgICAgIHNlbGVjdEZpbGUoZmlsZSkgew0KDQogICAgICAgICAgICBpZiAoZmlsZSkgew0KICAgICAgICAgICAgICAgIGZpbGUuX3R5cGUgPSBmaWxlLnR5cGU7DQogICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgaWYgKGZpbGUgJiYgIWZpbGUudHlwZSAmJiBmaWxlLm5hbWUubWF0Y2goL1wuKGNzdnxqc29uKSQvaSkpIHsNCiAgICAgICAgICAgICAgICBmaWxlLl90eXBlID0gZmlsZS5uYW1lLm1hdGNoKC9cLmNzdiQvaSkgPyAndGV4dC9jc3YnOidhcHBsaWNhdGlvbi9qc29uJzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKCFmaWxlIHx8IFsnYXBwbGljYXRpb24vanNvbicsICd0ZXh0L2NzdiddLmluZGV4T2YoZmlsZS5fdHlwZSkgPT0gLTEpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gQXBwLnVpLm5vdGlmeSgiT25seSBKU09OIGFuZCBDU1YgZmlsZXMgYXJlIHN1cHBvcnRlZC4iKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGhpcy5zdGVwID0gJ3BhcnNlJzsNCiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7DQoNCiAgICAgICAgICAgIEltcG9ydFBhcnNlci5wYXJzZShmaWxlKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsNCg0KICAgICAgICAgICAgICAgICR0aGlzLmRhdGEgPSBkYXRhOw0KDQogICAgICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGVycy5pbmRleE9mKCdfaWQnKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAkdGhpcy5maWVsZHMudW5zaGlmdCh7bmFtZTonX2lkJywgb3B0aW9uczp7fX0pOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIGF1dG8tbWFwIGZpZWxkcw0KICAgICAgICAgICAgICAgICR0aGlzLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpew0KICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oZWFkZXJzLmluZGV4T2YoZi5uYW1lKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMubWFwcGluZ1tmLm5hbWVdID0gZi5uYW1lOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAkdGhpcy5maWxlID0gZmlsZTsNCiAgICAgICAgICAgICAgICAkdGhpcy5zdGVwID0gMjsNCiAgICAgICAgICAgICAgICAkdGhpcy51cGRhdGUoKTsNCiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKG1zZykgew0KICAgICAgICAgICAgICAgIEFwcC51aS5ub3RpZnkobXNnLCAiZGFuZ2VyIik7DQogICAgICAgICAgICAgICAgJHRoaXMuc3RlcCA9IDE7DQogICAgICAgICAgICAgICAgJHRoaXMudXBkYXRlKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQoNCg0KICAgICAgICAvLyBIRUxQRVINCg0KICAgICAgICBkb0ltcG9ydCgpIHsNCg0KICAgICAgICAgICAgaWYgKCFPYmplY3Qua2V5cyh0aGlzLm1hcHBpbmcgfHwge30pLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBBcHAudWkubm90aWZ5KCJQbGVhc2UgZGVmaW5lIHNvbWUgZmllbGQgbWFwcGluZ3MgZmlyc3QuIik7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHZhciByZXF1aXJlZCA9IFtdOw0KDQogICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24uZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHsNCiAgICAgICAgICAgICAgICBpZiAoZmllbGQucmVxdWlyZWQgJiYgISR0aGlzLm1hcHBpbmdbZmllbGQubmFtZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQucHVzaCgnPHN0cm9uZz4nK2ZpZWxkLm5hbWUrJzwvc3Ryb25nPicpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBpZiAocmVxdWlyZWQubGVuZ3RoKSB7DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gQXBwLnVpLm5vdGlmeShbDQogICAgICAgICAgICAgICAgICAgIEFwcC5pMThuLmdldCgnUmVxdWlyZWQgZmllbGRzIGFyZSBub3QgbWFwcGVkOicpLA0KICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0idWstbWFyZ2luLXNtYWxsLXRvcCI+JytyZXF1aXJlZCsnPC9kaXY+Jw0KICAgICAgICAgICAgICAgIF0uam9pbignJykpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgY250ICAgID0gMjAsDQogICAgICAgICAgICAgICAgZmllbGRzID0gXy5rZXlCeSh0aGlzLmZpZWxkcywgJ25hbWUnKSwNCiAgICAgICAgICAgICAgICBjaHVua3MgPSBjaHVuayh0aGlzLmRhdGEucm93cywgY250KSwNCiAgICAgICAgICAgICAgICBjaGFpbiAgPSBQcm9taXNlLnJlc29sdmUoKSwNCiAgICAgICAgICAgICAgICBwcm9ncmVzcyA9IDA7DQoNCiAgICAgICAgICAgIHRoaXMucmVmcy5wcm9ncmVzcy5pbm5lckhUTUwgID0gJzAgJSc7DQogICAgICAgICAgICB0aGlzLnN0ZXAgPSAncHJvY2Vzcyc7DQoNCiAgICAgICAgICAgIGNodW5rcy5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rKXsNCg0KICAgICAgICAgICAgICAgIGNoYWluID0gY2hhaW4udGhlbihmdW5jdGlvbigpIHsNCg0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSl7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdLCBlbnRyaWVzID0gW107DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLmZvckVhY2goZnVuY3Rpb24oYywgZW50cnkpIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5ID0ge307DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cygkdGhpcy5tYXBwaW5nKS5mb3JFYWNoKGZ1bmN0aW9uKGssIHZhbCwgZCl7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gY1skdGhpcy5tYXBwaW5nW2tdXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCAgID0gJHRoaXMuZmlsdGVyRGF0YVtrXTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXMuZmlsdGVyW2tdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKEltcG9ydEZpbHRlci5maWx0ZXIoZmllbGRzW2tdLCB2YWwsIGQpLnRoZW4oZnVuY3Rpb24odmFsKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeVtrXSA9IHZhbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfLmlzT2JqZWN0KHZhbCkgJiYgIUFycmF5LmlzQXJyYXkodmFsKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnlba10gPSB2YWwudHlwZSA9PSBmaWVsZHNba10udHlwZSA/IHZhbCA6IG51bGw7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeVtrXSA9IHZhbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZHNba10ub3B0aW9ucy5zbHVnICYmIHR5cGVvZiB2YWwgPT09ICJzdHJpbmciKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeVtrICsgIl9zbHVnIl0gPSBBcHAuVXRpbHMuc2x1Z2dpZnkodmFsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbigpew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnJlcXVlc3QoJy9jb2xsZWN0aW9ucy9pbXBvcnQvZXhlY3V0ZScse2NvbGxlY3Rpb246ICR0aGlzLmNvbGxlY3Rpb24ubmFtZSwgZW50cmllczogZW50cmllc30pLnRoZW4oZnVuY3Rpb24oZGF0YSkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzICs9IGNudDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPiAkdGhpcy5kYXRhLnJvd3MubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9ICR0aGlzLmRhdGEucm93cy5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZWZzLnByb2dyZXNzLmlubmVySFRNTCA9IE1hdGguY2VpbCgocHJvZ3Jlc3MvJHRoaXMuZGF0YS5yb3dzLmxlbmd0aCkqMTAwKSsnICUnOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA9PSAkdGhpcy5kYXRhLnJvd3MubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHAudWkubm90aWZ5KCJJbXBvcnQgY29tcGxldGVkLiIsICJzdWNjZXNzIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZXN0YXJ0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy51cGRhdGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnVpLm5vdGlmeSgnSW1wb3J0IGZhaWxlZC4nLCAnZGFuZ2VyJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnJlc3RhcnQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMudXBkYXRlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKG1zZykgew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnVpLm5vdGlmeShtc2csICdkYW5nZXInKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzICs9IGNudDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+ICR0aGlzLmRhdGEucm93cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAkdGhpcy5kYXRhLnJvd3MubGVuZ3RoOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnJlZnMucHJvZ3Jlc3MuaW5uZXJIVE1MID0gTWF0aC5jZWlsKChwcm9ncmVzcy8kdGhpcy5kYXRhLnJvd3MubGVuZ3RoKSoxMDApKycgJSc7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPT0gJHRoaXMuZGF0YS5yb3dzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHAudWkubm90aWZ5KCJJbXBvcnQgY29tcGxldGVkLiIsICJzdWNjZXNzIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnJlc3RhcnQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMudXBkYXRlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQoNCiAgICAgICAgZnVuY3Rpb24gY2h1bmsoYXJyLCBsZW4pIHsNCg0KICAgICAgICAgICAgdmFyIGNodW5rcyA9IFtdLCBpID0gMCwgbiA9IGFyci5sZW5ndGg7DQoNCiAgICAgICAgICAgIHdoaWxlIChpIDwgbikgew0KICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKGFyci5zbGljZShpLCBpICs9IGxlbikpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gY2h1bmtzOw0KICAgICAgICB9DQoNCiAgICA8L3NjcmlwdD4NCg0KPC9kaXY+DQoiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";